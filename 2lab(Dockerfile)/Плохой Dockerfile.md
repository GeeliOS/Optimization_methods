# Плохой Dockerfile

В данном Dockerfile устанавливаются два пакета:

1. **curl**: Это инструмент командной строки для передачи данных с использованием различных протоколов, таких как HTTP, HTTPS, FTP и других. Его часто используют для тестирования API, загрузки файлов и выполнения HTTP-запросов.

2. **git**: Это система контроля версий, которая позволяет разработчикам отслеживать изменения в коде, collaborate с другими и управлять различными версиями проекта.

Давайте приступим к установке:

**1. Основной образ**:

```
FROM ubuntu:latest
```

Эта строка задает базовый образ для сборки нового Docker-образа. В данном случае используется `ubuntu:latest`, что означает, что будет загружена последняя версия образа Ubuntu. Использование тега `latest` является плохой практикой, так как это может привести к неправильной работе приложения, если в будущем в образ будут внесены изменения.

**2. Установка пакетов**:

```
RUN apt-get update && apt-get install -y \
 curl \
 git
```

Команда `RUN` выполняет команды внутри образа, в данном случае:

- `apt-get update`: обновляет список доступных пакетов и их версий.
- `apt-get install -y`: устанавливает пакеты `curl` и `git` без запроса подтверждения.

Плохая практика заключается в том, что версии пакетов не указаны, что может привести к нестабильности в будущем.

**3. Копирование файлов**:

```
COPY . /app
```

Команда `COPY` копирует все файлы из текущей директории (где расположен Dockerfile) в директорию `/app` внутри контейнера. Копирование всех файлов может привести к увеличению размера образа, поскольку могут быть включены временные или ненужные файлы. Обычно рекомендуется использовать файл `.dockerignore` для исключения таких файлов.

**4. Запуск приложения**:

```
CMD ["python", "app.py"]
```

Команда `CMD` указывает, что при запуске контейнера будет выполнена команда `python app.py`, которая запускает приложение. Однако не указание рабочего каталога (с помощью команды `WORKDIR`) перед этой командой считается плохой практикой, так как если текущий рабочий каталог не совпадает с тем местом, где находится файл `app.py`, это может привести к ошибке.

### Итог

Данный Dockerfile демонстрирует несколько плохих практик, таких как использование тега `latest`, установка пакетов без указания их версии, копирование всех файлов, а также запуск приложения без указания рабочего каталога. Эти проблемы могут привести к нестабильной работе приложения и затруднениям в его развертывании. Рекомендуется придерживаться лучших практик для более надежной и управляемой сборки Docker-образов.

Bad Practices в плохом Dockerfile:

1. Отсутствие явного указания версии при установке зависимостей.
2. Копирование всех файлов для уменьшения управляемости и потенциального увеличения размера образа.
3. Отсутствие указания рабочего каталога перед запуском приложения.
